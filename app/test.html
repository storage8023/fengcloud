<!doctype html>
<html lang="zh-CN" ng-app="myApp">
<head>
    <meta charset="utf-8">
    <title>test</title>
    <style>
        .slide-frame {
            position:relative;
            height:50px;
            overflow:hidden;
        }
        .slide-frame > div {
            width:100%;
        }
        .wave-enter, .wave-leave, .js-wave-base {
            -webkit-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
            -moz-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
            -o-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
            transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
        }
        .wave-enter {
            position:absolute;
            left:100%;
        }
        .wave-enter-active {
            left:0;
        }
        .wave-leave {
            position:absolute;
            left:0;
        }
        .wave-leave-active {
            left:-100%;
        }
    </style>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script>
        var ngModule = angular.module('myApp', ['ngAnimate']);
        ngModule.animation('js-wave-enter', function () {
            return {
                setup: function (element) {
                    //prepare the element for animation
                    element.css({ 'position': 'absolute', 'left': '100%' });
                },
                start: function (element, done, memo) {
                    //start the animation
                    element.animate({ 'left': 0  }, 400, function () {
                        //call when the animation is complete
                        done();
                    });
                }
            }
        });

        ngModule.animation('js-wave-leave', function () {
            return {
                setup: function (element) {
                    //prepare the element for animation
                    element.css({'position': 'absolute',  'left': 0     });
                },
                start: function (element, done, memo) {
                    //start the animation
                    element.animate({ 'left': '-100%'      }, 400 , function () {
                        //call when the animation is complete
                        done();
                    });
                }
            }
        });

        function anim($scope, $timeout) {
            $scope.master = ['[1] John who is 25 years old.', '[2] Jessie who is 30 years old.', '[3] Johanna who is 28 years old.', '[4] Joy who is 15 years old.', '[5] Mary who is 28 years old.', '[6] Peter who is 95 years old.', '[7] Sebastian who is 50 years old.', '[8] Erika who is 27 years old.', '[9] Patrick who is 40 years old.', '[10] Samantha who is 60 years old.'];

            $scope.tggle = 'true';
            $scope.idx = 0;
            $scope.data1 = $scope.master[$scope.idx++ % $scope.master.length];

            function clik() {

                if ($scope.tggle == 'true') {

                    $scope.data2 = $scope.master[$scope.idx++ % $scope.master.length];
                    $scope.tggle = 'false';
                } else {
                    $scope.data1 = $scope.master[$scope.idx++ % $scope.master.length];
                    $scope.tggle = 'true';
                }

                $timeout(function () {
                    clik();
                }, 2000);
            }

            $scope.clk = function () {
                clik();
            }
            clik();
        };
    </script>
</head>
<body>
<div ng-app="myApp">
    <div ng-controller='anim'>
        <P> <B> ng-animate Using CSS </B> </P>
        <div ng-switch="tggle" ng-animate="'wave'" class="slide-frame">
            <div  ng-switch-when="true">{{data1}}</div>
            <div ng-switch-when="false">{{data2}}</div>
        </div>
        <p/>
        <input ng-model="cmt" />
        <button ng-click="clk()">Slide</button>
    </div>
</div>
</body>
</html>
