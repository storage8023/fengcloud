<!DOCTYPE html>
<html ng-app = "mylogin">
<head>
    <title>login</title>
    <meta http-equiv = "content-type" content="text/html;charset = utf-8" />
    <script src="./bower_components/angular/angular-md5.js" type = "text/javascript"></script>
    <script src="./bower_components/angular/angular.js" type = "text/javascript"></script>
    <style type = "text/css">
        #login-wrapper{
            width:300px;
            height:300px;
            margin: 0 auto;
            background: #F8F9FB;
            border:1px solid #AEBCD4;
             border-radius: 6px 6px 6px 6px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.25);
            text-align: center;
            padding-top: 20px;
        }
    </style>
</head>
<body>
<div id = "login-wrapper">
    <form name = "myForm"  ng-controller = "loginCtrl"  ng-submit="postData() ">
        登录：<input type = "text" size = "25" name = "userName" ng-model = "username" /><br /><br />
        密码：<input type = "password" size= "25" name = "userPassword" ng-model ="password" /><br /><br/>
        <input type = "submit"  value = "确定" />
    </form>
</div>
<script type = "text/javascript">
    //现在已经是像服务器提交数据
    function postData(caller,http){
        caller.postData = function(){
            if(typeof this.username === 'undefined' || typeof this.password === 'undefined') return false;
            gkClient.gLogin(JSON.stringify({username: this.username,password: this.password}), function (type, error, message) {
                if(error === 0){
                    alert("登录成功");
                }else {
                    alert(message);
                }
            });
        }
    }
    var app = angular.module("mylogin",[]);
    app.controller("loginCtrl",function($scope,$http){
        postData($scope,$http);
    });
</script>
</body>
</html>